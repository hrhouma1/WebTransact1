# ğŸ“˜ Application Pratique : Exercice 1

# Objectif
Cet exercice pratique permet de crÃ©er et de configurer un projet Spring Boot de base avec une structure minimale pour dÃ©marrer une API REST simple. L'objectif est de mettre en place un projet Spring Boot avec un modÃ¨le simple, puis d'ajouter un contrÃ´leur basique pour tester l'application.

# Vous n'Ãªtes PAS obligÃ©s de lire l'annexe ! ğŸš¨ğŸš¨ğŸš¨
# âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸ **AVERTISSEMENT** âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸
ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨

L'annexe ci-bas est lÃ  pour vous **aider** si vous avez du mal Ã  comprendre certains concepts ou si vous vous sentez perdus. Si tout est clair pour vous, **passez directement Ã  l'Ã©tape suivante** et continuez avec l'exercice. L'annexe sert uniquement de **support supplÃ©mentaire** pour ceux qui veulent approfondir ou revoir la thÃ©orie. Sinon, rendez-vous Ã  l'Ã©tape suivante et bon courage !

# Ã‰tapes

### 1. AccÃ©dez Ã  [Spring Initializr](https://start.spring.io/)
Spring Initializr est un service en ligne permettant de gÃ©nÃ©rer rapidement des projets Spring Boot.

- **Ouvrez votre navigateur web** et allez Ã  l'adresse [https://start.spring.io/](https://start.spring.io/).
  
- **Configurez les paramÃ¨tres de base du projet :**
  - **Group** : `com.exemple.demo`
  - **Artifact** : `card-app`
  - **Name** : `card-app`
  - **Description** : `Application Spring Boot de gestion des cartes.`
  - **Package Name** : `com.exemple.demo`
  - **Packaging** : SÃ©lectionnez `Jar`.
  - **Java Version** : SÃ©lectionnez `17`.

### 2. Configurez le projet avec les dÃ©pendances nÃ©cessaires
Commencez par le minimum nÃ©cessaire pour dÃ©marrer l'application.

- **Ajouter des dÃ©pendances :**
  - Cliquez sur "Add Dependencies" et sÃ©lectionnez :
    - **Spring Web** : NÃ©cessaire pour crÃ©er une API REST.

- **GÃ©nÃ©rer et tÃ©lÃ©charger le projet :**
  - Une fois la dÃ©pendance ajoutÃ©e, cliquez sur "Generate" pour tÃ©lÃ©charger le projet sous forme d'archive ZIP.
  - **DÃ©compressez** le fichier ZIP tÃ©lÃ©chargÃ© dans un rÃ©pertoire de votre choix.

### 3. Importez le projet dans VS Code
Une fois que le projet est dÃ©compressÃ©, vous pouvez l'importer dans Visual Studio Code (VS Code).

- **Ouvrez VS Code :**
  - Lancez VS Code, puis sÃ©lectionnez "Open Folder" dans le menu de dÃ©marrage.
  - Naviguez vers le dossier oÃ¹ vous avez dÃ©compressÃ© votre projet et cliquez sur "Open".

- **Assurez-vous que l'extension Java est installÃ©e** dans VS Code. Si elle ne l'est pas, vous devrez l'installer depuis le marketplace pour pouvoir travailler sur un projet Java.

### 4. CrÃ©ez la structure des dossiers

Pour organiser votre projet de maniÃ¨re claire, vous allez crÃ©er deux dossiers principaux : un pour les modÃ¨les et un pour les contrÃ´leurs.

- **Structure des dossiers :**

```
card-app
â”œâ”€â”€ src
â”‚   â””â”€â”€ main
â”‚       â””â”€â”€ java
â”‚           â””â”€â”€ com
â”‚               â””â”€â”€ exemple
â”‚                   â””â”€â”€ demo
â”‚                       â”œâ”€â”€ controller
â”‚                       â””â”€â”€ model
```

- **CrÃ©ez le dossier `controller`** :
  - Naviguez dans `src/main/java/com/exemple/demo`.
  - CrÃ©ez un nouveau dossier appelÃ© `controller`.

- **CrÃ©ez le dossier `model`** :
  - Dans le mÃªme rÃ©pertoire (`src/main/java/com/exemple/demo`), crÃ©ez un autre dossier appelÃ© `model`.

### 5. CrÃ©ez le modÃ¨le `Card`

- **CrÃ©ez la classe `Card` dans le dossier `model` :**
  - Dans le dossier `model`, crÃ©ez une classe nommÃ©e `Card.java`.

```java
package com.exemple.demo.model;

public class Card {

    private int cardId;
    private int customerId;
    private String cardNumber;
    private String cardType;
    private int totalLimit;
    private int amountUsed;
    private int availableAmount;
    private String createDt;

    // Getters and Setters

    public int getCardId() {
        return cardId;
    }

    public void setCardId(int cardId) {
        this.cardId = cardId;
    }

    public int getCustomerId() {
        return customerId;
    }

    public void setCustomerId(int customerId) {
        this.customerId = customerId;
    }

    public String getCardNumber() {
        return cardNumber;
    }

    public void setCardNumber(String cardNumber) {
        this.cardNumber = cardNumber;
    }

    public String getCardType() {
        return cardType;
    }

    public void setCardType(String cardType) {
        this.cardType = cardType;
    }

    public int getTotalLimit() {
        return totalLimit;
    }

    public void setTotalLimit(int totalLimit) {
        this.totalLimit = totalLimit;
    }

    public int getAmountUsed() {
        return amountUsed;
    }

    public void setAmountUsed(int amountUsed) {
        this.amountUsed = amountUsed;
    }

    public int getAvailableAmount() {
        return availableAmount;
    }

    public void setAvailableAmount(int availableAmount) {
        this.availableAmount = availableAmount;
    }

    public String getCreateDt() {
        return createDt;
    }

    public void setCreateDt(String createDt) {
        this.createDt = createDt;
    }
}
```

### 6. CrÃ©ez un contrÃ´leur basique `CardController`

- **CrÃ©ez la classe `CardController` dans le dossier `controller` :**
  - Dans le dossier `controller`, crÃ©ez une classe nommÃ©e `CardController.java`.
  - Ajoutez le code suivant pour dÃ©finir un contrÃ´leur simple avec un endpoint de test :

```java
package com.exemple.demo.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/cards")
public class CardController {

    @GetMapping("/hello")
    public String helloCard() {
        return "Hello, Card!";
    }
}
```

### 7. ExÃ©cutez les commandes Maven dans VS Code

Pour compiler et exÃ©cuter le projet, vous allez utiliser les commandes Maven dans le terminal intÃ©grÃ© de VS Code.

- **Ouvrir le terminal intÃ©grÃ© :**
  - Allez dans le menu "Terminal" -> "New Terminal" pour ouvrir un terminal intÃ©grÃ© dans VS Code.

- **ExÃ©cutez les commandes Maven suivantes :**
  - **Nettoyer le projet :**  
    ```bash
    mvn clean
    ```
    Cette commande supprime tous les fichiers gÃ©nÃ©rÃ©s lors de la derniÃ¨re compilation, garantissant un environnement propre.

  - **Compiler le projet sans exÃ©cuter les tests :**  
    ```bash
    mvn install -DskipTests
    ```
    Cette commande compile le projet et installe les fichiers JAR nÃ©cessaires sans exÃ©cuter les tests.

  - **DÃ©marrer l'application Spring Boot :**  
    ```bash
    mvn spring-boot:run
    ```
    Cette commande dÃ©marre l'application Spring Boot en utilisant les paramÃ¨tres dÃ©finis dans le projet.

### 8. Testez l'application

- **VÃ©rifiez le dÃ©marrage :**
  - Une fois l'application dÃ©marrÃ©e, ouvrez un navigateur et accÃ©dez Ã  `http://localhost:8080/cards/hello`. Vous devriez voir le message `Hello, Card!`.

### RÃ©sultat attendu
Le projet Spring Boot doit dÃ©marrer sans erreur, et le message "Hello, Card!" doit Ãªtre affichÃ© lorsque vous accÃ©dez Ã  l'URL spÃ©cifiÃ©e. Le projet est maintenant prÃªt pour Ãªtre Ã©tendu avec des fonctionnalitÃ©s supplÃ©mentaires.

# :end: :end: :end: :end: :end: :end: :end: :end: :end: :end: :end: :end: :end:
---
---
---
---
---
---

# âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸ **AVERTISSEMENT** âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸

ğŸš¨ **Vous n'Ãªtes PAS obligÃ©s de lire l'annexe** ! ğŸš¨
ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨

Cette annexe est ici pour vous aider si vous avez des difficultÃ©s Ã  comprendre certains concepts ou si vous voulez revoir la thÃ©orie. Si vous Ãªtes Ã  l'aise avec tout ce qui a Ã©tÃ© expliquÃ© jusqu'ici, vous pouvez sauter cette section et continuer directement avec l'exercice.

----

# ğŸ“š Annexe 1 : ThÃ©orie 

Dans cette section, nous allons expliquer les concepts de base utilisÃ©s dans cet exercice, en utilisant un langage simple et des analogies accessibles pour vous aider Ã  comprendre les fondements du dÃ©veloppement d'applications web avec Spring Boot.

#### 1. **Qu'est-ce qu'un service web ?**

Un **service web** est un composant logiciel qui permet Ã  des applications ou Ã  des systÃ¨mes informatiques de communiquer entre eux via un rÃ©seau (comme Internet). Il expose des fonctionnalitÃ©s ou des donnÃ©es que d'autres applications peuvent consommer en envoyant des requÃªtes et en recevant des rÃ©ponses.

Pour mieux comprendre, imaginez un service web comme un serveur de restaurant. Lorsque vous commandez un plat, le serveur (le service web) prend votre commande, la transmet Ã  la cuisine (le backend), et vous ramÃ¨ne votre plat (les donnÃ©es ou la rÃ©ponse). De la mÃªme maniÃ¨re, lorsqu'un utilisateur ou une autre application envoie une requÃªte Ã  un service web, ce service traite la demande et renvoie une rÃ©ponse appropriÃ©e.

#### 2. **Qu'est-ce qu'un contrÃ´leur (`Controller`) ?**
Un **contrÃ´leur** est un composant dans une application Spring Boot qui gÃ¨re les requÃªtes entrantes. Il agit comme un intermÃ©diaire entre l'utilisateur (ou une autre application) et les diffÃ©rents services de l'application. Le contrÃ´leur reÃ§oit les demandes, traite les informations nÃ©cessaires en interagissant avec les autres parties de l'application, puis renvoie une rÃ©ponse appropriÃ©e.

Dans notre exemple, `CardController` est un contrÃ´leur qui gÃ¨re les requÃªtes relatives aux cartes. Par exemple, lorsqu'une requÃªte est envoyÃ©e Ã  l'URL `/cards/hello`, le contrÃ´leur rÃ©pond avec le message "Hello, Card!".

#### 3. **Les annotations en Spring Boot**
Les **annotations** sont des Ã©lÃ©ments que l'on place sur certaines parties du code pour spÃ©cifier comment ces parties doivent se comporter. Voici une table ASCII pour mieux comprendre les annotations que nous avons utilisÃ©es :

```
+-------------------------+-----------------------------------------------+
| Annotation              | Explication                                   |
+-------------------------+-----------------------------------------------+
| @RestController         | Indique que cette classe gÃ¨re les requÃªtes    |
|                         | web (elle est un contrÃ´leur).                 |
+-------------------------+-----------------------------------------------+
| @RequestMapping("/cards")| Indique que toutes les requÃªtes qui commencent|
|                         | par "/cards" doivent Ãªtre traitÃ©es par        |
|                         | cette classe.                                 |
+-------------------------+-----------------------------------------------+
| @GetMapping("/hello")    | Indique qu'une requÃªte GET envoyÃ©e Ã          |
|                         | "/cards/hello" doit Ãªtre traitÃ©e par cette    |
|                         | mÃ©thode.                                      |
+-------------------------+-----------------------------------------------+
```

#### 4. **Qu'est-ce qu'un modÃ¨le (`Model`) ?**
Un **modÃ¨le** est une classe qui reprÃ©sente les donnÃ©es utilisÃ©es dans une application. Par exemple, le modÃ¨le `Card` dans notre projet dÃ©crit ce qu'est une carte : elle a un numÃ©ro, un type, une limite totale, etc. Le modÃ¨le aide Ã  organiser et Ã  structurer les donnÃ©es que l'application manipule.

#### 5. **Le fichier `pom.xml`**
Le fichier `pom.xml` est un fichier de configuration utilisÃ© par Maven, un outil de gestion de projets Java. Ce fichier spÃ©cifie les dÃ©pendances du projet, c'est-Ã -dire les bibliothÃ¨ques dont le projet a besoin pour fonctionner.

##### Contenu du `pom.xml` :
Voici un aperÃ§u du fichier `pom.xml` gÃ©nÃ©rÃ© pour ce projet :

```xml
<dependencies>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
</dependencies>
```

- **`spring-boot-starter-web`** : Cette dÃ©pendance inclut tout ce dont vous avez besoin pour crÃ©er des services web RESTful avec Spring Boot.

#### ExpÃ©rience pratique : Supprimer une dÃ©pendance

Pour mieux comprendre l'importance des dÃ©pendances, essayons une petite expÃ©rience :

1. **Ouvrez le fichier `pom.xml` dans VS Code.**
2. **Supprimez la dÃ©pendance `spring-boot-starter-web`** (le bloc `<dependency>` tout entier qui commence par `<groupId>` et se termine par `</dependency>`).
3. **Enregistrez le fichier et exÃ©cutez Ã  nouveau la commande `mvn clean install -DskipTests`.**
4. **Observez ce qui se passe lorsque vous essayez de dÃ©marrer l'application avec `mvn spring-boot:run`.**

Sans la dÃ©pendance `spring-boot-starter-web`, l'application ne pourra pas reconnaÃ®tre les annotations telles que `@RestController`, `@RequestMapping`, et `@GetMapping`, car ces annotations font partie des bibliothÃ¨ques incluses dans cette dÃ©pendance. Vous devriez voir des erreurs indiquant que ces annotations ne sont pas reconnues ou ne peuvent pas Ãªtre trouvÃ©es.

**Conclusion :** Cette expÃ©rience montre combien les dÃ©pendances sont cruciales dans un projet Spring Boot. Elles permettent d'inclure les fonctionnalitÃ©s nÃ©cessaires pour que votre application fonctionne correctement.



---
# Annexe 2 - Explication de la classe principale d'un projet Spring Boot
----


### Contexte GÃ©nÃ©ral

Quand on crÃ©e une application avec Spring Boot, il y a souvent une classe principale qui sert de point d'entrÃ©e Ã  l'application. Cette classe est le cÅ“ur de votre application, c'est elle qui va la dÃ©marrer et configurer tout ce qui est nÃ©cessaire pour que votre programme fonctionne. Cette classe peut sembler mystÃ©rieuse, mais une fois que vous comprenez chaque Ã©lÃ©ment, cela devient beaucoup plus clair.

### La Classe Principale : Exemple et Explication Ligne par Ligne

Prenons un exemple de classe principale typique dans une application Spring Boot :

```java
@SpringBootApplication
public class MonApplication {
    public static void main(String[] args) {
        SpringApplication.run(MonApplication.class, args);
    }
}
```

### DÃ©taillons Cela Ensemble :

#### 1. `@SpringBootApplication`

**Qu'est-ce que c'est ?**  
L'annotation `@SpringBootApplication` est une sorte de "super-annotation" qui combine trois autres annotations de Spring. Ces annotations sont :

- **`@EnableAutoConfiguration`** : Cette annotation dit Ã  Spring Boot de configurer automatiquement certaines parties de l'application en fonction des dÃ©pendances que vous avez ajoutÃ©es. Par exemple, si vous avez une base de donnÃ©es comme MySQL, Spring Boot configurera automatiquement une connexion Ã  cette base de donnÃ©es pour vous.

- **`@ComponentScan`** : Imaginez que Spring soit un dÃ©tective qui doit trouver tous les objets importants (appelÃ©s "composants" ou "beans") que vous avez crÃ©Ã©s dans votre code. L'annotation `@ComponentScan` dit Ã  Spring oÃ¹ chercher ces objets. Par dÃ©faut, il va chercher dans le mÃªme package que votre classe principale et dans tous les sous-packages. 

- **`@Configuration`** : Cette annotation dit Ã  Spring que cette classe peut contenir des configurations supplÃ©mentaires. Par exemple, vous pourriez dÃ©finir des beans supplÃ©mentaires ici ou configurer des aspects particuliers de votre application.

**Pourquoi est-ce important ?**  
L'annotation `@SpringBootApplication` permet de rÃ©duire la complexitÃ© du code en combinant ces trois fonctionnalitÃ©s essentielles en une seule annotation. Ã‡a simplifie la vie du dÃ©veloppeur, car on nâ€™a pas besoin de se soucier de la configuration dÃ©taillÃ©e de ces Ã©lÃ©ments, Spring Boot le fait pour vous.

#### 2. `public class MonApplication`

**Qu'est-ce que c'est ?**  
C'est tout simplement la dÃ©finition de votre classe en Java. Ici, `MonApplication` est le nom que vous avez donnÃ© Ã  votre classe. C'est comme nommer un fichier dans votre ordinateur.

**Pourquoi est-ce important ?**  
Le nom de la classe principale est important car c'est le point de dÃ©part de votre application. Câ€™est cette classe que Spring Boot va utiliser pour lancer et configurer toute votre application.

#### 3. `public static void main(String[] args)`

**Qu'est-ce que c'est ?**  
La mÃ©thode `main` est le point d'entrÃ©e de toute application Java. Quand vous dÃ©marrez votre programme, c'est la premiÃ¨re mÃ©thode qui est exÃ©cutÃ©e. 

- **`public`** : Cela signifie que cette mÃ©thode est accessible depuis n'importe oÃ¹ dans votre programme.
- **`static`** : Cela veut dire que cette mÃ©thode appartient Ã  la classe elle-mÃªme et non Ã  un objet particulier de cette classe.
- **`void`** : Cela indique que cette mÃ©thode ne renvoie rien. Elle fait simplement quelque chose sans retourner de rÃ©sultat.
- **`main(String[] args)`** : `main` est le nom de la mÃ©thode, et elle prend un tableau de chaÃ®nes de caractÃ¨res (`String[] args`) comme argument. Ces arguments peuvent Ãªtre des informations que vous passez lorsque vous lancez l'application, mais pour le moment, vous n'avez pas besoin de vous en soucier.

**Pourquoi est-ce important ?**  
La mÃ©thode `main` est essentielle car elle est lâ€™entrÃ©e principale de votre application. Câ€™est ici que tout commence.

#### 4. `SpringApplication.run(MonApplication.class, args)`

**Qu'est-ce que c'est ?**  
C'est la ligne qui dÃ©marre rÃ©ellement votre application Spring Boot.

- **`SpringApplication.run`** : `SpringApplication` est une classe utilitaire dans Spring Boot qui gÃ¨re tout le processus de dÃ©marrage de l'application. En appelant `run`, vous demandez Ã  Spring Boot de lancer l'application.
  
- **`MonApplication.class`** : Ici, vous passez la rÃ©fÃ©rence de votre classe principale (celle que vous avez nommÃ©e `MonApplication`) Ã  Spring Boot. Cela lui dit que cette classe est le point de dÃ©part de la configuration de l'application.
  
- **`args`** : Ce sont les mÃªmes arguments que ceux reÃ§us par la mÃ©thode `main`. Ils sont passÃ©s Ã  Spring Boot au cas oÃ¹ ils contiendraient des informations importantes pour le dÃ©marrage de l'application (mais souvent, vous pouvez les ignorer si vous n'avez rien de spÃ©cial Ã  passer).

**Pourquoi est-ce important ?**  
Cette ligne est cruciale car c'est elle qui lance tout le processus de dÃ©marrage de Spring Boot. Sans cette ligne, rien ne se passe, votre application ne se lance pas.

### RÃ©sumÃ©

- **`@SpringBootApplication`** : Elle fait tout le travail lourd de configuration pour vous, en activant l'auto-configuration, le balayage des composants, et en dÃ©clarant que cette classe contient de la configuration.
  
- **`public class MonApplication`** : C'est juste le nom de votre classe, le conteneur principal de votre application.
  
- **`public static void main(String[] args)`** : C'est le point de dÃ©part de votre application. Chaque programme Java a besoin d'une mÃ©thode `main`.
  
- **`SpringApplication.run(...)`** : C'est ce qui lance rÃ©ellement l'application Spring Boot.

Cette classe principale est ce qui permet Ã  Spring Boot de faire tout le travail pour dÃ©marrer votre application avec un minimum d'effort de configuration de votre part. Elle cache beaucoup de complexitÃ©, permettant aux dÃ©butants (et aux experts) de se concentrer sur le dÃ©veloppement de fonctionnalitÃ©s plutÃ´t que sur la configuration.


---

[â¬…ï¸ Retour au Plan de Contenu](README.md)
