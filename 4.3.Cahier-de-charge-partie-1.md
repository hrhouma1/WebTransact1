--------------------------------
# 1 - Rappel des deux classes **Customer** et **Card** avec les relations de clé primaire (PK) et clé étrangère (FK) :
--------------------------------


```
+--------------------------+             +--------------------------+
|        Customer           |             |          Card             |
+--------------------------+             +--------------------------+
| - customerId (PK)         | <-----------| - cardId (PK)             |
| - customerFirstName       |             | - customerId (FK)         |
| - customerLastName        |             | - cardNumber              |
+--------------------------+             | - cardType                |
                                          | - totalLimit              |
                                          | - amountUsed              |
                                          | - availableAmount         |
                                          | - createDt                |
                                          +--------------------------+
```

- **Customer** : La classe `Customer` contient `customerId` comme clé primaire (PK).
- **Card** : La classe `Card` contient `cardId` comme clé primaire (PK) et `customerId` comme clé étrangère (FK) qui fait référence à `Customer`.

- Relation entre un client et ses cartes, où un client peut avoir plusieurs cartes.


-------------------------------------------------
# 2 - Contraintes d'intégrité :
-------------------------------------------------


+----------------------+-----------------------------+--------------------------------------------+
| Fonctionnalité       | Contrainte                  | Description                                |
+----------------------+-----------------------------+--------------------------------------------+
| **Create**           | Client doit exister         | Impossible d'ajouter une carte sans client |
|                      | Numéro de carte unique      | Le numéro de carte doit être unique        |
+----------------------+-----------------------------+--------------------------------------------+
| **Read**             | ID valide                   | 404 si client ou carte inexistant          |
+----------------------+-----------------------------+--------------------------------------------+
| **Update**           | Client doit exister         | 404 si client ou carte inexistant          |
|                      | Conserver associations      | Les cartes doivent rester liées au client  |
+----------------------+-----------------------------+--------------------------------------------+
| **Delete**           | Client avec cartes          | Ne peut pas supprimer client avec cartes   |
|                      | Suppression en cascade      | Supprimer client avec ses cartes (option)  |
+----------------------+-----------------------------+--------------------------------------------+
| **Intégrité Référentielle** | Clé étrangère        | Client lié à la carte                     |
+----------------------+-----------------------------+--------------------------------------------+
| **Unicité**          | Numéro de carte unique      | Le numéro de carte est unique              |
+----------------------+-----------------------------+--------------------------------------------+
| **Validation des Données** | Valeurs positives     | Limite, montant utilisé et dispo > 0       |
|                      | Coherence des montants      | Montant disponible = Limite - Montant utilisé|
+----------------------+-----------------------------+--------------------------------------------+
| **Erreurs**          | Gestion des erreurs         | 404 pour ID invalide, 400 pour validation  |
+----------------------+-----------------------------+--------------------------------------------+
``` 

